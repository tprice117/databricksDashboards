{% extends 'dashboards/base.html' %}
{% load static %}
{% load humanize %}
{% block title %}
{{user.first_name}} {{user.last_name}} Sales Detail
{% endblock %}
{% block content %}
<style>
    table tbody tr:nth-child(odd) {
        background-color: #505063;
    }
    table tbody tr:nth-child(even) {
        background-color: #80808c;
    }
    ul #nav2  {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
      }
    li #nav2 {
        float: left;
    }
    li.active a {
        background-color: #4CAF50;
        color: white;
    }
    thead th {
        position: sticky;
        top: 0;
        background-color: #333;
        color: white;
        z-index: 1;
        padding-right: 100px;
    }
</style>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Sales Detail</title>
</head>
<body>
    {% include 'dashboards/user_sales_nav.html' %}
    <header>
        <h1>{{user.first_name}} {{user.last_name}}</h1>
        <h2>New Buyers of Past Month</h2>
    </header>
    <main>
        <section>
            <table>
                <thead>
                    <tr>
                        <th>User Group ID</th>
                        <th>User Group Name</th>
                        <th>First Company Transaction Date</th>
                        <th>Recent Transaction Date</th>
                        <th>Order Originator</th>
                    </tr>
                </thead>
                <tbody>
                    {% for group in user_groups|dictsort:"transaction_date" %}
                    <tr>
                        <td>{{ group.id }}</td>
                        <td>{{ group.name }}</td>
                        <td>{{ group.user_addresses__order_groups__start_date }}</td>
                        <td>{{ group.transaction_date }}</td>
                        <td>{{ group.order_user_name }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>
    <div style="display: flex; justify-content: center; margin-top: 50px;">
        <a href="{% url 'sales_leaderboard' %}" class="btn btn-primary">Back to Leaderboard</a>
    </div>
    <footer>
        <p>&copy; 2024 | Downstream | Sales Data by Rep</p>
    </footer>
</body>
</html>

{% endblock %}