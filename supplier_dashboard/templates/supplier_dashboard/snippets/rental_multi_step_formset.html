{{ formset.management_form }}
<!-- Formset as a table -->
{% with excluded_fields='one_shift,two_shift,three_shift' %}
  <table id="{{ formset.prefix }}-formset" class="form table table-striped">
    {% for form in formset.forms %}
      {% if forloop.first %}
        <thead>
          <tr>
            {% for field in form.visible_fields %}
              {% if field.name not in excluded_fields %}
                <th>
                  {{ field.label|capfirst }}{{ field.label_suffix }}
                  {% if field.field.required %}* {% endif %}
                  {% if field.help_text %}
                    <br />
                    <small id="{{ field.html_name }}Help" class="form-text text-muted">{{ field.help_text|safe }}</small>
                  {% endif %}
                </th>
              {% endif %}
            {% endfor %}
          </tr>
        </thead>
      {% endif %}
      <tr>
        {% for field in form.visible_fields %}
          {% if field.name not in excluded_fields %}
            <td>
              {% if forloop.first %}
                {% for hidden in form.hidden_fields %}
                  {{ hidden }}
                {% endfor %}
              {% endif %}
              {{ field }}
              {% if field.errors %}
                <small class="text-danger">{{ field.errors|join:', ' }}</small>
              {% endif %}
            </td>
          {% endif %}
        {% endfor %}
        <small class="text-danger">{{ form.non_field_errors|join:', ' }}</small>
      </tr>
    {% endfor %}
    <small class="text-danger">{{ formset.non_form_errors|join:', ' }}</small>
  </table>
{% endwith %}
<!-- Shift Multipliers -->
<div class="mb-3">
  <h5 class="mb-1">Shift Multipliers</h5>
  <small class="text-muted">Enter a multiplier for the rate depending on the number of shifts per day.</small>
</div>
{% for form in formset.forms %}
  <div class="row">
    <div class="col">
      {% with field=form.one_shift %}
        <div class="form-group">
          <label for="{{ field.id_for_label }}" class="text-dark">
            {{ field.label|capfirst }}{{ field.label_suffix }}
            {% if field.field.required %}* {% endif %}
          </label>
          {{ field }}
          {% if field.help_text %}
            <small id="{{ field.html_name }}Help" class="form-text text-muted">{{ field.help_text|safe }}</small>
          {% endif %}
          {% if field.errors %}
            <small class="text-danger">{{ field.errors }}</small>
          {% endif %}
        </div>
      {% endwith %}
    </div>
    <div class="col">
      {% with field=form.two_shift %}
        <div class="form-group">
          <label for="{{ field.id_for_label }}" class="text-dark">
            {{ field.label|capfirst }}{{ field.label_suffix }}
            {% if field.field.required %}* {% endif %}
          </label>
          {{ field }}
          {% if field.help_text %}
            <small id="{{ field.html_name }}Help" class="form-text text-muted">{{ field.help_text|safe }}</small>
          {% endif %}
          {% if field.errors %}
            <small class="text-danger">{{ field.errors }}</small>
          {% endif %}
        </div>
      {% endwith %}
    </div>
    <div class="col">
      {% with field=form.three_shift %}
        <div class="form-group">
          <label for="{{ field.id_for_label }}" class="text-dark">
            {{ field.label|capfirst }}{{ field.label_suffix }}
            {% if field.field.required %}* {% endif %}
          </label>
          {{ field }}
          {% if field.help_text %}
            <small id="{{ field.html_name }}Help" class="form-text text-muted">{{ field.help_text|safe }}</small>
          {% endif %}
          {% if field.errors %}
            <small class="text-danger">{{ field.errors }}</small>
          {% endif %}
        </div>
      {% endwith %}
    </div>
  </div>
{% endfor %}
